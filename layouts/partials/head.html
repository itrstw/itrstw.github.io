<head>
	<title>{{ .Site.Title }}</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<meta name="description" content="{{ .Site.Params.description }}">
    <meta name="author" content="">
    <meta property="og:image" content="https://itrs.tw/images/{{ .Site.Params.banner_img }}"/>
    <meta property="og:url" content="https://itrs.tw"/>
    <meta property="og:type" content="website"/>
    <meta property="og:description" content="{{ .Site.Params.description }}"/>
    <meta property="og:title" content="{{ .Site.Title }}"/>

	{{ if .Site.Params.favicon }}
	{{ partial "favicon" }}
	{{ end }}

    {{ with .Site.Params.gtag }}
    <script async src="https://www.googletagmanager.com/gtag/js?id={{ .id }}"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', {{ .id }});

    function gtag_report_conversion(url) {
      var callback = function () {
        if (typeof(url) != 'undefined') {
          window.open(url, '_blank');
        }
      };
      gtag('event', 'conversion', {
        'send_to': '{{ .id }}/{{ .label }}',
        'value': 1.0,
        'currency': 'TWD',
        'event_callback': callback
      });
      return false;
    }
    </script>
    {{ end }}

	<!-- CSS -->
    {{ if false }}
	{{ if hugo.IsServer }}
	{{ $style := resources.Get "sass/main.scss" | resources.ExecuteAsTemplate "scss/main.scss" . | toCSS (dict "targetPath" "css/main.css" "outputStyle" "compressed" "enableSourceMap" false) }}
	<link rel="stylesheet" href="{{ ($style).RelPermalink }}">
	{{ else }}
	{{ $style := resources.Get "sass/main.scss" | resources.ExecuteAsTemplate "scss/main.scss" . | toCSS (dict "targetPath" "css/main.css" "enableSourceMap" false) }}
	<link rel="stylesheet" href="{{ ($style | minify | fingerprint "md5").RelPermalink }}">
	{{ end }}
    {{else}}
    {{ with resources.Get "css/used.css" | minify }}
        <style>{{ .Content | safeCSS }}</style>
    {{ end }}
    {{end}}

	{{ if hugo.IsServer }}
	{{ $noscript := resources.Get "sass/noscript.scss" | resources.ExecuteAsTemplate "noscript.scss" . | toCSS (dict "targetPath" "css/noscript.css" "enableSourceMap" false) }}
	<noscript><link rel="stylesheet" href="{{ ($noscript).RelPermalink }}" /></noscript>
	{{ else }}
	{{ $noscript := resources.Get "sass/noscript.scss" | resources.ExecuteAsTemplate "noscript.scss" . | toCSS (dict "targetPath" "css/noscript.css" "enableSourceMap" false) }}
	<noscript><link rel="stylesheet" href="{{ ($noscript | minify | fingerprint "md5").RelPermalink }}" /></noscript>
	{{end}}

	<!-- FontAwesome CSS -->
	{{/* range .Site.Params.asset.fontawesome_css -}}
		<link rel="stylesheet" href="{{ . | absURL }}">
	{{- end */}}

    <link rel="preload" fetchpriority="high" as="image" href="images/banner0-1.webp" type="image/webp" >
    <link rel="preload" as="image" href="images/banner1.webp" type="image/webp" >
    <link rel="preload" as="image" href="images/banner2.webp" type="image/webp" >
    <link rel="preload" as="image" href="images/banner3-1.webp" type="image/webp" >
    <link rel="preload" as="image" href="images/banner4.webp" type="image/webp" >
    <link rel="preload" as="image" href="images/banner5.webp" type="image/webp" >
</head>
